<div>
    <img
        *ngIf="imgDataUrl"
        [src]="imgDataUrl"
        [style.visibility]="imageVisible ? 'visible' : 'hidden'"
        class="source-image"
        style="width: 100%"
    />
    <div class="cropper"
        [style.top.px]="cropper.y1"
        [style.left.px]="cropper.x1"
        [style.width.px]="cropper.x2 - cropper.x1"
        [style.height.px]="cropper.y2 - cropper.y1"
        [style.visibility]="imageVisible ? 'visible' : 'hidden'"
    >
        <div
            (mousedown)="startMove($event, 'move')"
            class="move"
        >&nbsp;</div>
        <span
            class="resize topleft"
            (mousedown)="startMove($event, 'resize', 'topleft')"
        ></span>
        <span
            class="resize top"
        ></span>
        <span
            class="resize topright"
            (mousedown)="startMove($event, 'resize', 'topright')"
        ></span>
        <span
            class="resize right"
        ></span>
        <span
            class="resize bottomright"
            (mousedown)="startMove($event, 'resize', 'bottomright')"
        ></span>
        <span
            class="resize bottom"
        ></span>
        <span
            class="resize bottomleft"
            (mousedown)="startMove($event, 'resize', 'bottomleft')"
        ></span>
        <span
            class="resize left"
        ></span>
        <span
            class="resize-bar top"
            (mousedown)="startMove($event, 'resize', 'top')"
        ></span>
        <span
            class="resize-bar right"
            (mousedown)="startMove($event, 'resize', 'right')"
        ></span>
        <span
            class="resize-bar bottom"
            (mousedown)="startMove($event, 'resize', 'bottom')"
        ></span>
        <span
            class="resize-bar left"
            (mousedown)="startMove($event, 'resize', 'left')"
        ></span>
    </div>
</div>